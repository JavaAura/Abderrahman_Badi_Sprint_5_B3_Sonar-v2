<div class="flex flex-col gap-2 h-full">
    <div (click)="openMenu()"
        class="flex flex-row items-center h-[36px] focus:outline-none hover:bg-gray-selected text-gray-700 rounded-md pr-6 cursor-pointer">
        <span class="inline-flex justify-center items-center ml-4">
            <svg class="w-5 h-5 text-gray-700" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                <path d="M11 14L3 14" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                <path d="M11 18H3" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                <path
                    d="M18.875 14.1183C20.5288 15.0732 21.3558 15.5506 21.4772 16.2394C21.5076 16.4118 21.5076 16.5881 21.4772 16.7604C21.3558 17.4492 20.5288 17.9266 18.875 18.8815C17.2212 19.8363 16.3942 20.3137 15.737 20.0745C15.5725 20.0147 15.4199 19.9265 15.2858 19.814C14.75 19.3644 14.75 18.4096 14.75 16.4999C14.75 14.5902 14.75 13.6354 15.2858 13.1858C15.4199 13.0733 15.5725 12.9852 15.737 12.9253C16.3942 12.6861 17.2212 13.1635 18.875 14.1183Z"
                    stroke="#1C274C" stroke-width="1.5" />
                <path d="M3 6L13.5 6M20 6L17.75 6" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                <path d="M20 10L9.5 10M3 10H5.25" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
            </svg>
        </span>
        <span class="ml-2 text-sm tracking-wide truncate">Albums</span>
        <svg class="w-2 h-2 text-gray-700 ml-auto transition-all duration-300" [ngClass]="isOpen ? 'rotate-180' : ''" xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink" width="800px" height="800px" viewBox="0 -4.5 20 20" version="1.1">

            <title>arrow_down [#338]</title>
            <desc>Created with Sketch.</desc>
            <defs>

            </defs>
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="Dribbble-Light-Preview" transform="translate(-220.000000, -6684.000000)" fill="#000000">
                    <g id="icons" transform="translate(56.000000, 160.000000)">
                        <path
                            d="M164.292308,6524.36583 L164.292308,6524.36583 C163.902564,6524.77071 163.902564,6525.42619 164.292308,6525.83004 L172.555873,6534.39267 C173.33636,6535.20244 174.602528,6535.20244 175.383014,6534.39267 L183.70754,6525.76791 C184.093286,6525.36716 184.098283,6524.71997 183.717533,6524.31405 C183.328789,6523.89985 182.68821,6523.89467 182.29347,6524.30266 L174.676479,6532.19636 C174.285736,6532.60124 173.653152,6532.60124 173.262409,6532.19636 L165.705379,6524.36583 C165.315635,6523.96094 164.683051,6523.96094 164.292308,6524.36583"
                            id="arrow_down-[#338]">

                        </path>
                    </g>
                </g>
            </g>
        </svg>
    </div>

    <div class="flex-1 min-h-0 transition-all duration-300 overflow-y-auto" [ngClass]="isOpen ? 'max-h-[500px] ' : 'max-h-0'">
        <div class="flex flex-col gap-2 items-center text-gray-700 text-sm">
            <ng-container *ngIf="albums$ | async as albums">
                <a 
                   *ngFor="let album of albums" 
                   [routerLink]="['/album', album.id]"
                   class="flex flex-row items-center w-full rounded-md cursor-pointer focus:outline-none hover:bg-gray-selected h-9">
                  <div class="flex items-center gap-2 w-[70%] mx-auto">
                    <p>{{ album.title }}</p>
                  </div>
                </a>
              </ng-container>
        </div>
    </div>
</div>